# 식품공전 웹 애플리케이션 PRD (Product Requirements Document)

## 1. 프로젝트 개요

### 1.1 프로젝트명
**식품공전 디지털 플랫폼** - 현대적인 웹 기반 식품 기준 및 규격 검색 시스템

### 1.2 프로젝트 목적 및 비전
- **목적**: 기존 식품안전나라 사이트의 접근성 및 사용성 문제를 해결하여 식품공전 정보에 대한 효율적인 접근 환경 제공
- **비전**: 식품업계 종사자들이 언제 어디서나 쉽게 접근할 수 있는 현대적인 식품 규정 검색 플랫폼 구축

### 1.3 문제 정의 및 솔루션
#### 현재 문제점
- 기존 식품안전나라 사이트의 JavaScript 기반 SPA로 인한 외부 접근 제한
- 해시 라우팅 사용으로 직접 URL 접근 불가
- 복잡한 네비게이션과 비직관적인 사용자 인터페이스
- 검색 기능의 한계 및 느린 응답 속도

#### 제안하는 솔루션
- Supabase 기반의 현대적인 웹 애플리케이션
- 직관적인 계층형 목차 구조와 강력한 검색 기능
- PDF 미리보기를 통한 원본 문서 즉시 확인
- 반응형 디자인으로 모바일/태블릿 완벽 지원

## 2. 핵심 사용자 스토리

1. **As a** 품질관리자, **I want to** "복합조미식품"을 검색했을 때 관련 조항들이 즉시 표시되기를 원한다, **So that** 제품 기준 적합성을 빠르게 확인할 수 있다.

2. **As a** 연구원, **I want to** 목차에서 "13. 조미식품"을 클릭했을 때 해당 PDF 섹션이 바로 표시되기를 원한다, **So that** 필요한 정보에 즉시 접근할 수 있다.

3. **As a** 규제 담당자, **I want to** 즐겨찾기 기능으로 자주 참조하는 조항들을 관리하고 싶다, **So that** 업무 효율성을 높일 수 있다.

## 3. 기능 명세서

### 3.1 핵심 기능 우선순위

#### Must-have (핵심 필수 기능)
1. **계층형 목차 네비게이션**
   - 대분류/소분류 펼치기/접기 기능
   - 현재 위치 하이라이트 표시
   
2. **통합 검색 시스템**
   - 전체 텍스트 실시간 검색
   - 검색 결과 하이라이트 표시
   
3. **PDF 미리보기**
   - iframe 기반 PDF 뷰어
   - 목차 클릭 시 해당 페이지로 이동

#### Should-have (중요 기능)
1. **고급 검색 기능**
   - 필터링 (조, 항목별)
   - 자동완성
   
2. **사용자 편의 기능**
   - 최근 조회 이력
   - 북마크/즐겨찾기
   
3. **반응형 UI**
   - 모바일/태블릿 최적화
   - 다크모드 지원

## 4. 기술 아키텍처

### 4.1 기술 스택
- **Framework**: Next.js 15 (App Router)
- **UI 라이브러리**: Tailwind CSS + shadcn/ui
- **상태 관리**: Zustand 또는 React Context
- **PDF 뷰어**: react-pdf 또는 PDF.js
- **BaaS**: Supabase (PostgreSQL Database, Storage)

### 4.2 핵심 구조
실제 PDF에서 추출된 목차 구조:

```
제1. 총칙
├── 1. 일반원칙
├── 2. 기준 및 규격의 적용  
├── 3. 용어의 풀이
└── 4. 식품원료 분류

제2. 식품일반에 대한 공통기준 및 규격
├── 1. 식품원료 기준
├── 2. 제조･가공기준
├── 3. 식품일반의 기준 및 규격
└── 4. 보존 및 유통기준

제5. 식품별 기준 및 규격
├── 1. 과자류, 빵류 또는 떡류
├── 2. 빙과류
├── 13. 조미식품 ⭐ (주요 관심 항목)
└── 24. 기타식품류
```

## 5. 개발 로드맵

### 5.1 Phase 1 - MVP (4주)
- 기본 레이아웃 및 디자인 시스템
- 목차 구조 구현 (펼치기/접기)
- PDF 뷰어 통합
- 기본 검색 기능
- 반응형 UI (모바일 기본 지원)

### 5.2 Phase 2 - 고급 기능 (4주)
- 고급 검색 (필터, 자동완성)
- 사용자 계정 및 인증
- 북마크/즐겨찾기 기능
- 최근 조회 이력
- 성능 최적화

### 5.3 Phase 3 - 추가 기능 (2주)
- 다크모드 지원
- PWA 지원
- 고급 PDF 기능
- 사용 분석 및 개선

## 6. 품질 보증

### 6.1 성능 요구사항
- Initial Load: < 3초
- PDF Loading: < 2초
- Search Response: < 500ms
- Lighthouse Score: > 90

### 6.2 테스트 전략
- 단위 테스트: Jest + React Testing Library
- 통합 테스트: API 및 PDF 로딩 테스트
- E2E 테스트: Playwright

## 7. 핵심 성공 지표
- 원하는 정보까지 도달 시간 50% 단축
- 모바일 사용률 30% 이상 달성
- 검색 결과 정확도 95% 이상
- 사용자 만족도 NPS 70점 이상